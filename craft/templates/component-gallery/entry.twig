{% if not currentUser['admin'] is defined %}
    {% redirect 404 %}
{% endif %}

{% extends "_layouts/base.twig" %}

{% do view.registerCssFile(siteUrl|trim('/') ~ '/assets/styles/component-gallery.' ~ craft.app.config.general.cssCacheBustTimestamp ~ '.css') %}

{% block content %}
    <article id="component-gallery">
        <section>
            <h1>{{ entry.title }}</h1>
            <h2>{{ entry.role.label }}</h2>
            <p>{{ entry.componentDescription }}</p>
        </section>
        <section>
            {% set block = entry.cc.one %}
            <showcase>
                <block data-block-type="{{ block.type }}" data-block-id="{{ block.id }}">
                    {% include '_blocks/' ~ block.type %}
                </block>
            </showcase>
        </section>
    </article>
{% endblock %}
